<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/resources :: resources(title=#{view.search.title})"></head>
<script type="text/javascript">
$(document).ready(function () {
	showLoadingGifOnFormSubmit();
    $('#datetimepicker_from').datetimepicker({
    	//format: "YYYY-MM-DD HH:mm:ss"
    	format: "YYYY-MM-DD"
    });
    $('#datetimepicker_to').datetimepicker({
    	//format: "YYYY-MM-DD HH:mm:ss"
    	format: "YYYY-MM-DD"
    });
    $("#datetimepicker_from").on("dp.change", function (e) {
        $('#datetimepicker_to').data("DateTimePicker").minDate(e.date);
    });
    $("#datetimepicker_to").on("dp.change", function (e) {
        $('#datetimepicker_from').data("DateTimePicker").maxDate(e.date);
    });
    /*
    $('#reset_fields').on('click',function(e){
    	e.preventDefault();
    	$("form#appSearchForm :input").each(function(){
    		 var input = $(this);
    		 input.val('');
    		});
    	$("#inputAppStatus").val('0');
    });*/
    
});

/*
function remarkFormatter(value){
	var $detail_url = 
		'<table class="table table-striped"><thead class="row"><tr><th class="col-md-1 text-center">VERIFICATION HOME/MOBILE</th><th class="col-md-1 text-center">VERIFICATION OFFICE</th><th class="col-md-1 text-center">OVERALL STAT</th></tr></thead>'
		+'<tbody><tr><td class="col-md-1">Pending</td>'
		+'<td class="col-md-1">Pending</td>'
		+'<td class="col-md-1">Pending</td>'
		+'</tr></tbody>'
		+'</table>';
	return $detail_url;
}
*/
function appFormatter(value){
	var $detail_url = '<a href="detail" th:href="@{/detail/{0}}">{1}</a>'.format(value,value);
	return $detail_url;
}
</script>
<body>
<!-- Loading gif -->
<div class="se-pre-con"></div>
<div th:replace="fragments/header :: header">&nbsp;</div>
<div class="container-fluid">
    <!-- /* Handle the flash message */-->
    <th:block th:if="${message != null}">
        <!-- /* The message code is returned from the @Controller */ -->
        <div th:replace="fragments/alert :: alert (type=${#strings.toLowerCase(message.type)}, message=#{${message.message}})">&nbsp;</div>
    </th:block>    
    <form id="appSearchForm" class="form-search form-horizontal" th:object="${appSearchForm}">
    <div class="row">
		<div class="col-md-4">
			<div class="input-group svX3">
				<label for="inputAppNo" class="input-group-addon imagetype-width" id="appNo-addon">Application No. :</label>
				<input type="text" class="form-control" id="inputAppNo" th:field="*{applicationNo}" placeholder="_________-_" name="applicationNo" aria-describedby="appNo-addon" maxlength="11" />
			</div>
		</div>

		<div class="col-md-5">			
			<div class='input-group date' id='datetimepicker_from'>
				<label for="inputAppDate-from" class="input-group-addon imagetype-width" id="appDate-from-addon">Application Date :</label>
                <input type='text' class="form-control" name="appDateFrom" th:field="*{appDateFrom}" />
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar"></span>
                </span>
            </div>
		</div>
		<div class="col-md-3">
			<div class='input-group date' id='datetimepicker_to'>
                <input type='text' class="form-control" name="appDateTo" th:field="*{appDateTo}"/>
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar"></span>
                </span>
            </div>
		</div>
    </div>
    <h3></h3>
    <div class="row">
		<div class="col-md-5">
			<div class="input-group svX3">
				<label for="inputCustomerName" class="input-group-addon imagetype-width" id="customerName-addon">Customer Name :</label>
				<input type="text" class="form-control" id="inputCustomerName" th:field="*{customerName}" name="customerName" aria-describedby="customerName-addon" maxlength="30"/>
			</div>
		</div>
		<div class="col-md-3">
			<div class="input-group svX3">
				<label for="inputSeqNo" class="input-group-addon imagetype-width" id="seqNo-addon">Sequence No. :</label>
				<input type="text" class="form-control" id="inputSeqNo" name="seqNo" th:field="*{seqNo}" aria-describedby="seqNo-addon" maxlength="7" />
			</div>
		</div>
		<div class="col-md-4">
			<div class="input-group svX3">
				<label for="inputAppStatus" class="input-group-addon imagetype-width" id="appStatus-addon">Application Status :</label>
					<select class="form-control" aria-describedby="appStatus-addon" id="inputAppStatus" name="appStatus" th:field="*{appStatus}">
					    <option value="0"></option>
					    <option value="1">Documents Submitted</option>
					    <option value="2">DE1 Finished</option>
					    <option value="3">BAP Check</option>
					    <option value="4">Accepted</option>
					    <option value="5">Survey Requested</option>
					    <option value="6">1st Assessment</option>
					    <option value="7">Final Assessment</option>
					    <option value="8">Verification Pending</option>
					    <option value="9">Approved</option>
					    <option value="10">Rejected</option>
					    <option value="11">Cancelled</option>
					</select>
			</div>
		</div>
    </div>
    <h3></h3>
    <div class="row">
    	<div class="col-md-12">
			<div class="input-group">
				<div class="text-right input-group-btn" >
					<p>
						<button name="search_app"  type="submit" class="btn btn-primary">Search</button>
						<button name="resetFields" type="submit" class="btn btn-primary" >Reset</button>
					</p>
				</div>
			</div>
		</div>
    </div>
    </form>
    
    <div>
    <table id="table-pagination" class="table table-striped" data-toggle="table" th:attr="data-url= @{${searchUrl}}" data-cache="false" data-height="425" data-search="true" data-pagination="true">
    <thead class="row">
        <tr>
            <th class="col-md-1" data-sortable="true" data-field="appNo" data-formatter="appFormatter">Application No</th>
            <th class="col-md-3" data-sortable="true" data-field="customerName">Customer Name</th>
            <th class="col-md-2" data-sortable="true" data-field="applicationDate">Application Date</th>
            <th class="col-md-2" data-sortable="true" data-field="applicationStatus">Application Status</th>
            <th class="col-md-1" data-sortable="true" data-field="seqNo">SeqNo</th>
            <th class="col-md-3" data-sortable="true" data-field="remarks">Remarks</th>
        </tr>
    </thead>
	</table>
    </div>
    
</div>
</body>
</html>